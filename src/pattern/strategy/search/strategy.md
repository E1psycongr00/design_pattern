# 20220309(Strategy Pattern)

작성일시: 2022년 3월 9일 오후 5:54

# 전략 패턴

전략 패턴은 모드별로 모듈화해서 의존적인 코드를 독립적이게 만들어 준다. 그래서 결과적으로 폐쇄 개방 원칙을 만족하게 만든다.

예를 들어 타입별 검색을 요구하는 search bar를 만든다고 가정하자..... 보통의 경우 한 클래스에  if문을 이용해 여러 분기 조건을 사용하고 분기에 따라 처리 할 것이다. 매번 새로운 모드가 추가 될 때 마다 else if 를 통해 코드를 수정해야 하고 프로젝트가 커지면 하나 잘못 수정했다가 코드안에 전체 코드가 다 들어 있기 때문에 디버그 하기도 힘들고 테스트코드 짜기도 쉽지 않다. 만약 이 분기별 작업을 모듈화 해서 따로 빼주면 어떻게 될까??? 이 고민에서 나온 방법이 전략 패턴이다.

 

![aa](src/resources/images/strategy/1.jpeg)

SearchStrategy 인터페이스를 통해 모드별 검색 기능 객체를 관리한다. 새로운 모드가 생기면 새로운 객체를 새로 만들고 interface에 등록만 해주면 되므로 기존 문제점이였던 OCP를 만족한다.

실질적인 기능을 수행하는 SearchStrategy 객체를 어떤 동작 클래스의 인스턴스 변수로 선언한 다음 외부에서 new를 이용해 객체를 생성해서 넣어주면 된다.  그 다음 onClick 메서드를 수행한다.

만약 이런 식으로 구현하지 않는다면 onClick 메서드에 분기별 조건과 기능을 모두 넣었을 것이다.

기존의 코드라면 

1. 객체는 하나의 기능만을 수행해야 한다. ⇒ SRP(Single Responsibility Principle)
2. 소프트웨어 요소는 확장에는 열려있고 변경에는 닫혀있어야한다. ⇒ OCP(Open / Closed Principle

2 가지의 객체 지향 원칙에 위배된다.